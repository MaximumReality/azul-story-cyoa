<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Chat with Azul & Mochkil ğŸ±ğŸˆâ€â¬›</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

body {
  font-family:'Press Start 2P', monospace;
  background: linear-gradient(to bottom, #0a0a0a, #111);
  color:#f0f0f0;
  padding:1rem;
  margin:0;
  min-height:100vh;
}

h1 { color:#39ff14; text-shadow:0 0 10px #39ff14; text-align:center; font-size: 1.1rem; margin-top: 1rem; }
p.subtitle { text-align:center; color:#aaa; font-size: 0.55rem; margin-bottom:1.5rem; line-height: 1.4; }

#chatContainer { max-width:600px; margin:0 auto; display:flex; flex-direction:column; gap:0.8rem; }

input[type="text"] {
  font-family:monospace; font-size:16px; padding:0.8rem;
  border-radius:5px; border:1px solid #333; width:100%;
  box-sizing:border-box; background: #111; color: #39ff14;
}

.button-row { display: flex; gap: 10px; }
button {
  flex: 1; font-family: 'Press Start 2P'; font-size: 0.55rem;
  padding: 0.8rem; background:#222; color:#39ff14;
  border:2px solid #39ff14; border-radius:5px; cursor:pointer;
}

button:hover { background:#39ff14; color:#000; }

#responses { margin-top:1.5rem; display:flex; flex-direction:column; gap:1rem; }

.response {
  padding:1rem; border-radius:10px; background:#111;
  border: 1px solid #39ff14; box-shadow:0 0 10px #39ff1444;
  animation:fadeIn 0.4s; font-size: 0.65rem; line-height: 1.6;
}

.response strong { color:#39ff14; text-shadow: 0 0 5px #ff00ff; }

video {
  width: 100%; margin:1rem 0; border:3px solid #39ff14;
  border-radius:10px; box-shadow:0 0 20px #ff00ff;
}

@keyframes fadeIn { from {opacity:0; transform: translateY(5px);} to {opacity:1; transform: translateY(0);} }
.neon-link { color:#39ff14; text-decoration:none; font-size: 0.5rem; }
footer { text-align:center; margin-top:3rem; padding:1.5rem; border-top:1px solid #333; }
</style>
</head>
<body>

<h1>Chat with Azul & Mochkil ğŸ±ğŸˆâ€â¬›</h1>
<p class="subtitle">Enter name to begin. Type 'Surprise' for rare clips!<br>Maximum Reality v1.0</p>

<div id="chatContainer">
  <input type="text" id="playerName" placeholder="Enter your name...">
  <input type="text" id="promptInput" placeholder="Talk to the cats...">
  <div class="button-row">
    <button onclick="addResponse()">SEND</button>
    <button onclick="randomPrompt()">ğŸ² RANDOM</button>
  </div>
  <div id="typingIndicator" style="display:none; text-align:center; color:#39ff14; font-size:0.5rem; margin: 10px 0;">ğŸ’¬ THE CATS ARE PLOTTING...</div>
</div>

<div id="responses"></div>
<div id="videosContainer"></div>

<footer>
  <p style="color:#39ff14; font-size: 0.6rem; margin-bottom: 10px;">ğŸ’– Support & Follow Maximum Reality ğŸ’–</p>
  <a href="https://maximum-reality-shop.fourthwall.com/" target="_blank" class="neon-link">SHOP</a> |
  <a href="https://buymeacoffee.com/MaximumReality" target="_blank" class="neon-link">BUY ME A COFFEE</a> |
  <a href="https://www.youtube.com/@maximumrealityLori" target="_blank" class="neon-link">YOUTUBE</a>
</footer>

<script>
// Chat Bantor
const azulReplies = ["Oh, sureâ€¦ like I havenâ€™t seen this before ğŸ˜", "Adventure calls! ğŸš€", "Hacking the scammers againâ€¦ ğŸ’»", "Bet you didnâ€™t expect THAT! ğŸ§ª", "Floating upside-down is a vibe ğŸŒ€"];
const mochkilReplies = ["Is it snack time yet? ğŸª", "Iâ€™ll eat everything in sightâ€¦ ğŸ˜‹", "Boredâ€¦ letâ€™s play ninjas! ğŸ¥·ğŸ»", "Can I eat that? ğŸŸ", "I had a dream about a taco truck... ğŸŒ®"];

// Adventure Database
const stories = {
  taco: { triggers:["taco","ğŸŒ®"], video:"azul_mochkil_taco_truck.mp4", vtt:"azul_mochkil_taco_truck.vtt", questions:[{q:"Pick a topping:", a:["Chicken","Beef","Mystery Taco"], correct:2}] },
  pirate: { triggers:["pirate","ğŸ´â€â˜ ï¸"], video:"azul_mochkil_pirates.mp4", vtt:"azul_mochkil_pirates.vtt", questions:[{q:"Board the ship?", a:["Yes","Sneak aboard"], correct:0}] },
  space: { triggers:["space","ğŸš€"], video:"azul_mochkil_space_voyager.mp4", vtt:"azul_mochkil_space_voyager.vtt", questions:[{q:"Destination?", a:["Mars","Mystery Planet"], correct:1}] },
  moon: { triggers:["moon","ğŸŒŒ"], video:"azul_lori_moon_picnic.mp4", vtt:"azul_lori_moon_picnic.vtt", questions:[] },
  hacker: { triggers:["hacker","ğŸ’»"], video:"azul_lori_hacker.mp4", vtt:"azul_lori_hacker.vtt", questions:[] },
  jungle: { triggers:["jungle","ğŸŒ´"], video:"azul_mochkil_jungle.mp4", questions:[] },
  ninja: { triggers:["ninja","ğŸ¥·ğŸ»"], video:"azul_mochkil_ninja_farm.mp4", vtt:"azul_mochkil_ninja_farm.vtt", questions:[] },
  treasure: { triggers:["treasure","âš±ï¸"], video:"treasure_cave.mp4", questions:[] },
  newzealand: { triggers:["zealand","kiwi"], video:"azul_mochkil_new_zealand.mp4", questions:[] },
  gameover: { video: "azul_mochkil_gameover.mp4" },
  surprise: { triggers:["surprise","bonus","limited","ğŸ"], isLimited: true }
};

function addResponse() {
  const input = document.getElementById('promptInput');
  const userText = input.value.trim();
  if(!userText) return;

  const player = document.getElementById('playerName').value.trim() || "Mysterious Human";
  
  // Secret Cheat Code
  if(userText.toUpperCase() === "MAXIMUM") {
      unlockVideo("treasure_cave.mp4");
      input.value = "";
      return;
  }

  document.getElementById('typingIndicator').style.display = 'block';

  setTimeout(() => {
    document.getElementById('typingIndicator').style.display = 'none';
    const div = document.createElement('div');
    div.className = 'response';
    div.innerHTML = `<strong>${player}:</strong> ${userText}<br><br>
      <strong>Azul ğŸ§ª:</strong> ${azulReplies[Math.floor(Math.random()*azulReplies.length)]}<br>
      <strong>Mochkil ğŸª:</strong> ${mochkilReplies[Math.floor(Math.random()*mochkilReplies.length)]}`;
    
    document.getElementById('responses').prepend(div);

    // Scan for story triggers
    const lowerText = userText.toLowerCase();
    for(let key in stories) {
      if(stories[key].triggers && stories[key].triggers.some(t => lowerText.includes(t))) {
        if(stories[key].isLimited) {
            // Pick a random Azulo surprise video
            const randomNum = Math.floor(Math.random() * 7) + 1;
            unlockVideo(`azulo${randomNum}.mp4`);
        } else {
            startStory(key);
        }
        break;
      }
    }
    input.value = '';
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }, 600);
}

function startStory(key) {
  const story = stories[key];
  if(!story.questions || story.questions.length === 0) {
    unlockVideo(story.video, story.vtt);
  } else {
    showQuestion(key, 0);
  }
}

function showQuestion(key, index) {
  const q = stories[key].questions[index];
  const div = document.createElement('div');
  div.className = 'response';
  div.style.border = "2px solid #ff00ff";
  div.innerHTML = `<strong>CHALLENGE:</strong> ${q.q}<br><br>`;
  
  q.a.forEach((ans, i) => {
    const btn = document.createElement('button');
    btn.textContent = ans;
    btn.style.margin = "5px";
    btn.onclick = () => {
      if(i === q.correct) {
        div.remove();
        if(index + 1 < stories[key].questions.length) {
          showQuestion(key, index + 1);
        } else {
          unlockVideo(stories[key].video, stories[key].vtt);
        }
      } else {
        div.innerHTML = "<strong>GAME OVER!</strong> 8-bit cats win this round.";
        unlockVideo(stories.gameover.video);
      }
    };
    div.appendChild(btn);
  });
  document.getElementById('responses').prepend(div);
}

function unlockVideo(src, vtt) {
  const video = document.createElement('video');
  video.controls = true;
  video.setAttribute('playsinline', ''); // Essential for iPhone Safari inline play
  video.src = src;
  
  if(vtt) {
    const track = document.createElement('track');
    track.kind = 'subtitles';
    track.label = 'English';
    track.srclang = 'en';
    track.src = vtt;
    track.default = true;
    video.appendChild(track);
  }

  document.getElementById('videosContainer').prepend(video);
  video.play().catch(() => {
    console.log("Autoplay blocked - user must tap video.");
  });
}

function randomPrompt() {
  const prompts = ["Show me a Surprise! ğŸ", "Let's go to Space! ğŸš€", "I want a Taco ğŸŒ®", "Pirate Adventure ğŸ´â€â˜ ï¸", "Ninja Farm! ğŸ¥·ğŸ»"];
  document.getElementById('promptInput').value = prompts[Math.floor(Math.random()*prompts.length)];
}
</script>
</body>
</html>
