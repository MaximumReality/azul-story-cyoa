<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Azul & Mochkil: Maximum Reality</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

body {
  font-family:'Press Start 2P', cursive;
  background: #0a0a0a; color:#f0f0f0;
  padding:1rem; margin:0; font-size: 0.6rem;
}

h1 { color:#39ff14; text-shadow:0 0 10px #39ff14; text-align:center; font-size: 0.9rem; }

#chatContainer { max-width:600px; margin:0 auto; display:flex; flex-direction:column; gap:0.8rem; }

input[type="text"] {
  font-family:monospace; font-size:16px; padding:0.8rem;
  border-radius:5px; border:1px solid #333; width:100%;
  box-sizing:border-box; background: #111; color: #39ff14;
}

.button-row { display: flex; gap: 10px; }
button {
  flex: 1; font-family: 'Press Start 2P'; font-size: 0.5rem;
  padding: 0.8rem; background:#222; color:#39ff14;
  border:2px solid #39ff14; border-radius:5px; cursor: pointer;
}

.response {
  padding:1rem; border-radius:10px; background:#111;
  border: 1px solid #39ff14; margin-top: 1rem;
  animation:fadeIn 0.4s; line-height: 1.6;
}

.response strong { color: #39ff14; }
img.character { width:40px; vertical-align:middle; border-radius:50%; margin-right:8px; border:1px solid #39ff14; }

video { width: 100%; margin-top:1rem; border:2px solid #ff00ff; border-radius:10px; }
@keyframes fadeIn { from {opacity:0; transform: translateY(10px);} to {opacity:1;} }
</style>
</head>
<body>

<h1>Maximum Reality üê±üêà‚Äç‚¨õ</h1>

<div id="chatContainer">
  <input type="text" id="playerName" placeholder="Your name...">
  <input type="text" id="promptInput" placeholder="Try 'Dr Azul ü©∫', 'Ninja', 'Moon'...">
  <div class="button-row">
    <button onclick="addResponse()">SEND</button>
    <button onclick="randomPrompt()">üé≤ RANDOM</button>
  </div>
</div>

<div id="responses"></div>
<div id="videosContainer"></div>

<script>
const azulReplies = ["Sarcastic comment loading...", "I'm hacking the system!", "Walking is for humans. I float.", "Oh, sure... like I haven't seen THIS before."];
const mochkilReplies = ["Is it snack time?", "I can eat that.", "Let's be ninjas!", "I'm bored... feed me?"];

const stories = {
  dr_azul: { 
    triggers: ["dr", "doctor", "azul", "ü©∫", "ü©ª", "ü•º"], 
    video: "dr_azul.mp4", 
    questions: [
      {q: "You enter the clinic. Do you have an appointment?", a:["Yes", "No"], correct: 0},
      {q: "Dr. Azul is wearing a lab coat. Does he look professional?", a:["Very", "He's a cat"], correct: 0},
      {q: "Mochkil is in the waiting room looking pale. Help him?", a:["Check his pulse", "Give him a cookie"], correct: 0},
      {q: "Mochkil says his tummy hurts. Is it serious?", a:["Emergency!", "Probably gas"], correct: 1},
      {q: "Azul asks you to have a seat. Do you sit?", a:["Sit down", "Run away"], correct: 0},
      {q: "A strange sound echoes in the office. What was that?", a:["A ghost", "Mochkil's stomach"], correct: 1},
      {q: "Dr. Azul sighs deeply. Is he tired of his patient?", a:["Definitely", "He's just focused"], correct: 0},
      {q: "Final: Ready for the diagnosis?", a:["Yes, Doctor", "I'm scared"], correct: 0}
    ]
  },
  ninja: { triggers: ["ninja", "farm", "ü•∑üèª"], video: "azul_mochkil_ninja_farm.mp4", questions: Array(8).fill({q:"Do you follow the Ninja way?", a:["Yes", "No"], correct: 0}) },
  jungle: { triggers: ["jungle", "wild", "üå¥"], video: "azul_mochkil_jungle.mp4", questions: Array(8).fill({q:"Chop through the vines?", a:["Yes", "No"], correct: 0}) },
  dream: { triggers: ["dream", "sweet", "üò¥"], video: "mochkil_sweet_dream.mp4", questions: Array(8).fill({q:"Is the floor made of cookies?", a:["Yes", "No"], correct: 0}) },
  zealand: { triggers: ["zealand", "kiwi", "üá≥üáø"], video: "azul_mochkil_new_zealand.mp4", questions: Array(8).fill({q:"Visit the Hobbit hole?", a:["Yes", "No"], correct: 0}) },
  olive: { triggers: ["olive", "grove", "ü´í"], video: "azul_mochkil_olivegrove.mp4", questions: Array(8).fill({q:"Press the olives for oil?", a:["Yes", "No"], correct: 0}) },
  taco: { triggers: ["taco", "truck", "üåÆ"], video: "azul_mochkil_taco_truck.mp4", questions: Array(8).fill({q:"Order the mystery taco?", a:["Yes", "No"], correct: 0}) },
  moon: { triggers: ["moon", "picnic", "üåå"], video: "azul_lori_moon_picnic.mp4", questions: Array(8).fill({q:"Bring the space blanket?", a:["Yes", "No"], correct: 0}) },
  hacker: { triggers: ["hacker", "scam", "üíª"], video: "azul_lori_hacker.mp4", questions: Array(8).fill({q:"Hack the scammer?", a:["Execute", "Abort"], correct: 0}) },
  treasure: { triggers: ["treasure", "cave", "‚ö±Ô∏è"], video: "treasure_cave.mp4", questions: Array(8).fill({q:"Open the chest?", a:["Yes", "No"], correct: 0}) },
  pirate: { triggers: ["pirate", "ship", "üè¥‚Äç‚ò†Ô∏è"], video: "azul_mochkil_pirates.mp4", questions: Array(8).fill({q:"Sing a sea shanty?", a:["Yes", "No"], correct: 0}) },
  space: { triggers: ["space", "voyage", "üöÄ"], video: "azul_mochkil_space_voyager.mp4", questions: Array(8).fill({q:"Enter the wormhole?", a:["Yes", "No"], correct: 0}) },
  gameover: { video: "azul_mochkil_gameover.mp4" }
};

let currentStory = null;
let qIndex = 0;

function addResponse() {
  const input = document.getElementById('promptInput');
  const text = input.value.toLowerCase().trim();
  if(!text) return;

  const player = document.getElementById('playerName').value || "Human";

  let foundKey = null;
  for(let key in stories) {
    if(stories[key].triggers && stories[key].triggers.some(t => text.includes(t))) {
      foundKey = key;
      break;
    }
  }
  
  if(foundKey) {
    startCYOA(foundKey);
  } else {
    const div = document.createElement('div');
    div.className = 'response';
    div.innerHTML = `<strong>${player}:</strong> ${input.value}<br><br>
      <img src="azul.png" class="character"> <strong>Azul:</strong> ${azulReplies[Math.floor(Math.random()*azulReplies.length)]}<br>
      <img src="mochkil.png" class="character"> <strong>Mochkil:</strong> ${mochkilReplies[Math.floor(Math.random()*mochkilReplies.length)]}`;
    document.getElementById('responses').prepend(div);
  }
  input.value = "";
}

function startCYOA(key) {
  currentStory = key;
  qIndex = 0;
  document.getElementById('responses').innerHTML = ""; 
  showQuestion();
}

function showQuestion() {
  const s = stories[currentStory];
  const q = s.questions[qIndex];
  const div = document.createElement('div');
  div.className = 'response';
  div.innerHTML = `<strong>${currentStory.replace('_',' ').toUpperCase()} - STEP ${qIndex+1}/8</strong><br>${q.q}<br><br>`;
  
  q.a.forEach((ans, i) => {
    const btn = document.createElement('button');
    btn.textContent = ans;
    btn.style.margin = "5px";
    btn.onclick = () => {
      if(i === q.correct) {
        qIndex++;
        if(qIndex < s.questions.length) { div.remove(); showQuestion(); }
        else { div.innerHTML = "<strong>ADVENTURE UNLOCKED!</strong>"; playVideo(s.video); }
      } else {
        div.innerHTML = "<strong>WRONG CHOICE!</strong>"; playVideo(stories.gameover.video);
      }
    };
    div.appendChild(btn);
  });
  document.getElementById('responses').prepend(div);
}

function playVideo(src) {
  const v = document.createElement('video');
  v.src = src; v.controls = true; v.setAttribute('playsinline', '');
  document.getElementById('videosContainer').prepend(v);
  v.play().catch(()=>{});
}

function randomPrompt() {
  const r = ["Dr Azul ü©∫", "Ninja Farm", "Mochkil Dream", "New Zealand", "Olive Grove", "Taco Truck", "Moon Picnic", "Space Voyage", "Treasure Cave"];
  document.getElementById('promptInput').value = r[Math.floor(Math.random()*r.length)];
}
</script>
</body>
</html>
