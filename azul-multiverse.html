<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Chat with Azul & Mochkil üê±üêà‚Äç‚¨õ</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

body {
  font-family:'Press Start 2P', monospace;
  background: linear-gradient(to bottom, #0a0a0a, #111);
  color:#f0f0f0;
  padding:2rem;
  margin:0;
  min-height:100vh;
}

h1 {
  color:#39ff14;
  text-shadow:0 0 10px #39ff14;
  text-align:center;
  margin-bottom:0.5rem;
}

p {
  text-align:center;
  color:#aaa;
  margin-bottom:2rem;
}

#chatContainer {
  max-width:700px;
  margin:0 auto 2rem;
  display:flex;
  flex-direction:column;
  gap:1rem;
}

input[type="text"] {
  font-family:monospace;
  font-size:1rem;
  padding:0.5rem;
  border-radius:5px;
  border:none;
  width:100%;
  box-sizing:border-box;
}

button {
  font-family:monospace;
  font-size:1rem;
  padding:0.5rem 1rem;
  margin-top:0.5rem;
  background:#222;
  color:#39ff14;
  border:2px solid #39ff14;
  border-radius:5px;
  cursor:pointer;
  transition:0.2s;
}

button:hover {
  background:#39ff14;
  color:#000;
}

#responses {
  margin-top:1rem;
  display:flex;
  flex-direction:column-reverse;
  gap:1rem;
}

.response {
  padding:0.5rem 1rem;
  border-radius:10px;
  background:#111;
  box-shadow:0 0 10px #39ff14, 0 0 20px #ff00ff;
  animation:fadeIn 0.5s;
}

.response strong {
  color:#39ff14;
  text-shadow: 0 0 5px #ff00ff;
}

img.character {
  width:60px;
  vertical-align:middle;
  margin-right:0.5rem;
  border:2px solid #39ff14;
  border-radius:50%;
  box-shadow:0 0 10px #ff00ff;
}

#typingIndicator {
  text-align:center;
  font-style:italic;
  color:#39ff14;
  display:none;
}

@keyframes fadeIn {
  from {opacity:0; transform:translateY(10px);}
  to {opacity:1; transform:translateY(0);}
}

body::before {
  content:"üêæ";
  position:fixed;
  font-size:3rem;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%) rotate(45deg);
  opacity:0.03;
  pointer-events:none;
}

video {
  display:none;
  margin:1rem auto;
  max-width:90%;
  border:3px solid #39ff14;
  border-radius:10px;
  box-shadow:0 0 20px #ff00ff;
}

footer {
  position:relative;
  text-align:center;
  margin-top:2rem;
  padding:2rem 1rem;
  border-top:2px solid #39ff14;
  color:#39ff14;
  font-family:'Press Start 2P', monospace;
  overflow:hidden;
}
footer a {
  color:#39ff14;
  text-decoration:none;
}
footer a:hover {
  color:#ff00ff;
}

</style>
</head>
<body>

<h1>Chat with Azul & Mochkil üê±üêà‚Äç‚¨õ</h1>
<p>Enter your name (optional) and start an adventure!</p>

<div id="chatContainer">
  <input type="text" id="playerName" placeholder="Your name...">
  <input type="text" id="promptInput" placeholder="Type your story prompt here...">
  <div>
    <button onclick="addResponse()">Send</button>
    <button onclick="randomPrompt()">üé≤ Random Prompt</button>
  </div>
  <div id="typingIndicator">üí¨ Azul & Mochkil are thinking...</div>
</div>

<div id="responses"></div>

<h2>Unlocked Adventures</h2>
<div id="videosContainer"></div>

<footer>
  <p>üíñ Support & Follow Maximum Reality üíñ</p>
  <p>
    <a href="https://maximum-reality-shop.fourthwall.com/" target="_blank">Shop</a> |
    <a href="https://buymeacoffee.com/MaximumReality" target="_blank">Buy Me a Coffee</a> |
    <a href="https://www.youtube.com/@maximumrealityLori" target="_blank">YouTube</a>
  </p>
  <p style="font-size:0.8rem; color:#aaa; margin-top:0.5rem;">¬© 2025 Maximum Reality. All rights reserved.</p>
  <div id="pawContainer"></div>
</footer>

<script>
// Character replies
const azulReplies = [
  "Oh, sure‚Ä¶ like I haven‚Äôt seen this before üòè",
  "Adventure calls! Hope you can keep up üöÄ",
  "Sarcastic comment loaded‚Ä¶ but I‚Äôll save it for the dramatic moment üòé",
  "Hacking the scammers again‚Ä¶ you‚Äôre welcome üíª",
  "Floating upside-down because walking is boring üåÄ",
  "Keep your eyes peeled ‚Äî surprises ahead ‚ú®",
  "Bet you didn‚Äôt expect THAT in Maximum Reality! üß™"
];

const mochkilReplies = [
  "Is it snack time yet? üç™",
  "I‚Äôll eat everything in sight‚Ä¶ maybe later üòã",
  "Bored‚Ä¶ let‚Äôs play ninjas! ü•∑üèª",
  "Oops! Did I break something again? üôÉ",
  "Food‚Ä¶ everywhere‚Ä¶ my dream world üç©",
  "Can I eat that? Can I? Can I? üêü",
  "Wait‚Ä¶ what are we doing? Oh cool! üêæ"
];

// Random prompts
const randomPrompts = [
  "What is Mochkil dreaming today? üç™",
  "What hack is Azul working on? üß™",
  "What's happening in Maximum Reality right now? üåå",
  "Pirates Adventure! üè¥‚Äç‚ò†Ô∏è",
  "Space voyage time! üöÄ"
];

// Typing indicator
const typingIndicator = document.getElementById('typingIndicator');
let typingInterval;

function showTypingIndicator(show){
  if(show){
    typingIndicator.style.display='block';
    let visible=true;
    typingInterval=setInterval(()=>{typingIndicator.style.opacity=visible?'1':'0.3'; visible=!visible;},500);
  } else {
    typingIndicator.style.display='none';
    clearInterval(typingInterval);
  }
}

// Stories (full)
const stories = { /* INCLUDE FULL STORIES AS PROVIDED ABOVE */ };

// Current state
let storyProgress = null;
let questionIndex = 0;

// Add chat responses
function addResponse(){
  const input = document.getElementById('promptInput');
  const playerNameInput = document.getElementById('playerName');
  const playerName = playerNameInput.value.trim() || 'You';
  if(input.value.trim()==='') return;
  const userPrompt = input.value;
  showTypingIndicator(true);
  setTimeout(()=>{
    showTypingIndicator(false);
    const azulReply = azulReplies[Math.floor(Math.random()*azulReplies.length)];
    const mochkilReply = mochkilReplies[Math.floor(Math.random()*mochkilReplies.length)];
    const div = document.createElement('div');
    div.className='response';
    div.innerHTML=`
      <strong>${playerName}:</strong> ${userPrompt}<br>
      <img src="azul.png" class="character"> <strong>Azul üß™:</strong> ${azulReply}<br>
      <img src="mochkil.png" class="character"> <strong>Mochkil üç™:</strong> ${mochkilReply}
    `;
    document.getElementById('responses').prepend(div);

    // Check keyword to start adventure
    const keyword = userPrompt.toLowerCase();
    for(const key in stories){
      if(keyword.includes(key) && !stories[key].secret){
        startStory(key, playerName);
        break;
      }
    }
    input.value='';
  },1000);
}

// Random prompt
function randomPrompt(){
  const prompt = randomPrompts[Math.floor(Math.random()*randomPrompts.length)];
  document.getElementById('promptInput').value = prompt;
}

// Start story
function startStory(storyKey, playerName){
  storyProgress = storyKey;
  questionIndex = 0;
  showNextQuestion(playerName);
}

// Show next question
function showNextQuestion(playerName){
  if(!storyProgress) return;
  const story = stories[storyProgress];
  if(questionIndex >= story.questions.length){
    unlockVideo(story.video, story.vtt);
    storyProgress=null;
    return;
  }
  const q = story.questions[questionIndex];
  const div = document.createElement('div');
  div.className='response';
  div.innerHTML=`<strong>Question ${questionIndex+1}:</strong> ${q.q}`;
  const btnContainer = document.createElement('div');
  q.a.forEach((ans,i)=>{
    const btn = document.createElement('button');
    btn.textContent = ans;
    btn.onclick = ()=>{
      questionIndex++;
      btnContainer.remove();
      showNextQuestion(playerName);
    }
    btnContainer.appendChild(btn);
  });
  div.appendChild(btnContainer);
  document.getElementById('responses').prepend(div);
}

// Unlock video
function unlockVideo(src, vtt){
  const video = document.createElement('video');
  video.controls=true;
  video.style.display='block';
  const sourceElem=document.createElement('source');
  sourceElem.src=src;
  sourceElem.type='video/mp4';
  video.appendChild(sourceElem);

  if(vtt){
    const track=document.createElement('track');
    track.kind='subtitles';
    track.label='Espa√±ol / English';
    track.srclang='en';
    track.src=vtt;
    track.default=true;
    video.appendChild(track);
  }

  document.getElementById('videosContainer').appendChild(video);
  video.play().catch(()=>{});
  if(navigator.vibrate) navigator.vibrate(100);
}
</script>
</body>
</html>
